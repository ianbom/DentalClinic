import{r as y,a as W,j as n,d as O,L as re}from"./app-azI-YrL4.js";import{P as ne}from"./PatientLayout-CywOrtjz.js";import"./Navbar-Dak2xrtr.js";function ae(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const s=document.implementation.createHTMLDocument(),r=s.createElement("base"),a=s.createElement("a");return s.head.appendChild(r),s.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const le=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function g(e){const t=[];for(let s=0,r=e.length;s<r;s++)t.push(e[s]);return t}let p=null;function q(e={}){return p||(e.includeStyleProperties?(p=e.includeStyleProperties,p):(p=g(window.getComputedStyle(document.documentElement)),p))}function v(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function ie(e){const t=v(e,"border-left-width"),s=v(e,"border-right-width");return e.clientWidth+t+s}function oe(e){const t=v(e,"border-top-width"),s=v(e,"border-bottom-width");return e.clientHeight+t+s}function X(e,t={}){const s=t.width||ie(e),r=t.height||oe(e);return{width:s,height:r}}function ce(){let e,t;try{t=process}catch{}const s=t&&t.env?t.env.devicePixelRatio:null;return s&&(e=parseInt(s,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const m=16384;function de(e){(e.width>m||e.height>m)&&(e.width>m&&e.height>m?e.width>e.height?(e.height*=m/e.width,e.width=m):(e.width*=m/e.height,e.height=m):e.width>m?(e.height*=m/e.width,e.width=m):(e.width*=m/e.height,e.height=m))}function N(e){return new Promise((t,s)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=s,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function ue(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function me(e,t,s){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${s}`),a.setAttribute("viewBox",`0 0 ${t} ${s}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),a.appendChild(l),l.appendChild(e),ue(a)}const u=(e,t)=>{if(e instanceof t)return!0;const s=Object.getPrototypeOf(e);return s===null?!1:s.constructor.name===t.name||u(s,t)};function he(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function fe(e,t){return q(t).map(s=>{const r=e.getPropertyValue(s),a=e.getPropertyPriority(s);return`${s}: ${r}${a?" !important":""};`}).join(" ")}function xe(e,t,s,r){const a=`.${e}:${t}`,l=s.cssText?he(s):fe(s,r);return document.createTextNode(`${a}{${l}}`)}function F(e,t,s,r){const a=window.getComputedStyle(e,s),l=a.getPropertyValue("content");if(l===""||l==="none")return;const i=le();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(xe(i,s,a,r)),t.appendChild(o)}function ge(e,t,s){F(e,t,":before",s),F(e,t,":after",s)}const A="application/font-woff",M="image/jpeg",pe={woff:A,woff2:A,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:M,jpeg:M,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function be(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function _(e){const t=be(e).toLowerCase();return pe[t]||""}function ye(e){return e.split(/,/)[1]}function T(e){return e.search(/^(data:)/)!==-1}function we(e,t){return`data:${t};base64,${e}`}async function z(e,t,s){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((l,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{l(s({res:r,result:o.result}))}catch(c){i(c)}},o.readAsDataURL(a)})}const D={};function je(e,t,s){let r=e.replace(/\?.*/,"");return s&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function $(e,t,s){const r=je(e,t,s.includeQueryParams);if(D[r]!=null)return D[r];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const l=await z(e,s.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),ye(o)));a=we(l,t)}catch(l){a=s.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;l&&(i=typeof l=="string"?l:l.message),i&&console.warn(i)}return D[r]=a,a}async function ke(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):N(t)}async function Se(e,t){if(e.currentSrc){const l=document.createElement("canvas"),i=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,i?.drawImage(e,0,0,l.width,l.height);const o=l.toDataURL();return N(o)}const s=e.poster,r=_(s),a=await $(s,r,t);return N(a)}async function Ce(e,t){var s;try{if(!((s=e?.contentDocument)===null||s===void 0)&&s.body)return await E(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function ve(e,t){return u(e,HTMLCanvasElement)?ke(e):u(e,HTMLVideoElement)?Se(e,t):u(e,HTMLIFrameElement)?Ce(e,t):e.cloneNode(G(e))}const Ne=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",G=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Ee(e,t,s){var r,a;if(G(t))return t;let l=[];return Ne(e)&&e.assignedNodes?l=g(e.assignedNodes()):u(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?l=g(e.contentDocument.body.childNodes):l=g(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),l.length===0||u(e,HTMLVideoElement)||await l.reduce((i,o)=>i.then(()=>E(o,s)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function Re(e,t,s){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):q(s).forEach(l=>{let i=a.getPropertyValue(l);l==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),u(e,HTMLIFrameElement)&&l==="display"&&i==="inline"&&(i="block"),l==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),r.setProperty(l,i,a.getPropertyPriority(l))})}function Pe(e,t){u(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),u(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function De(e,t){if(u(e,HTMLSelectElement)){const r=Array.from(t.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Te(e,t,s){return u(t,Element)&&(Re(e,t,s),ge(e,t,s),Pe(e,t),De(e,t)),t}async function _e(e,t){const s=e.querySelectorAll?e.querySelectorAll("use"):[];if(s.length===0)return e;const r={};for(let l=0;l<s.length;l++){const o=s[l].getAttribute("xlink:href");if(o){const c=e.querySelector(o),h=document.querySelector(o);!c&&h&&!r[o]&&(r[o]=await E(h,t,!0))}}const a=Object.values(r);if(a.length){const l="http://www.w3.org/1999/xhtml",i=document.createElementNS(l,"svg");i.setAttribute("xmlns",l),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(l,"defs");i.appendChild(o);for(let c=0;c<a.length;c++)o.appendChild(a[c]);e.appendChild(i)}return e}async function E(e,t,s){return!s&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>ve(r,t)).then(r=>Ee(e,r,t)).then(r=>Te(e,r,t)).then(r=>_e(r,t))}const K=/url\((['"]?)([^'"]+?)\1\)/g,$e=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Le=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ie(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Fe(e){const t=[];return e.replace(K,(s,r,a)=>(t.push(a),s)),t.filter(s=>!T(s))}async function Ae(e,t,s,r,a){try{const l=s?ae(t,s):t,i=_(t);let o;return a||(o=await $(l,i,r)),e.replace(Ie(t),`$1${o}$3`)}catch{}return e}function Me(e,{preferredFontFormat:t}){return t?e.replace(Le,s=>{for(;;){const[r,,a]=$e.exec(s)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function J(e){return e.search(K)!==-1}async function Y(e,t,s){if(!J(e))return e;const r=Me(e,s);return Fe(r).reduce((l,i)=>l.then(o=>Ae(o,i,t,s)),Promise.resolve(r))}async function b(e,t,s){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const l=await Y(a,null,s);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function Be(e,t){await b("background",e,t)||await b("background-image",e,t),await b("mask",e,t)||await b("-webkit-mask",e,t)||await b("mask-image",e,t)||await b("-webkit-mask-image",e,t)}async function He(e,t){const s=u(e,HTMLImageElement);if(!(s&&!T(e.src))&&!(u(e,SVGImageElement)&&!T(e.href.baseVal)))return;const r=s?e.src:e.href.baseVal,a=await $(r,_(r),t);await new Promise((l,i)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...c)=>{try{l(t.onImageErrorHandler(...c))}catch(h){i(h)}}:i;const o=e;o.decode&&(o.decode=l),o.loading==="lazy"&&(o.loading="eager"),s?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Ue(e,t){const r=g(e.childNodes).map(a=>Q(a,t));await Promise.all(r).then(()=>e)}async function Q(e,t){u(e,Element)&&(await Be(e,t),await He(e,t),await Ue(e,t))}function Ve(e,t){const{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{s[a]=r[a]}),e}const B={};async function H(e){let t=B[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},B[e]=t,t}async function U(e,t){let s=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,l=(s.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),z(o,t.fetchRequestInit,({result:c})=>(s=s.replace(i,`url(${c})`),[i,c]))});return Promise.all(l).then(()=>s)}function V(e){if(e==null)return[];const t=[],s=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(s,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(a,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let c=l.exec(r);if(c===null){if(c=o.exec(r),c===null)break;l.lastIndex=o.lastIndex}else o.lastIndex=l.lastIndex;t.push(c[0])}return t}async function We(e,t){const s=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{g(a.cssRules||[]).forEach((l,i)=>{if(l.type===CSSRule.IMPORT_RULE){let o=i+1;const c=l.href,h=H(c).then(f=>U(f,t)).then(f=>V(f).forEach(w=>{try{a.insertRule(w,w.startsWith("@import")?o+=1:a.cssRules.length)}catch(R){console.error("Error inserting rule from remote css",{rule:w,error:R})}})).catch(f=>{console.error("Error loading remote css",f.toString())});r.push(h)}})}catch(l){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&r.push(H(a.href).then(o=>U(o,t)).then(o=>V(o).forEach(c=>{i.insertRule(c,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",l)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{g(a.cssRules||[]).forEach(l=>{s.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${a.href}`,l)}}),s))}function Oe(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>J(t.style.getPropertyValue("src")))}async function qe(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=g(e.ownerDocument.styleSheets),r=await We(s,t);return Oe(r)}function Z(e){return e.trim().replace(/["']/g,"")}function Xe(e){const t=new Set;function s(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(l=>{t.add(Z(l))}),Array.from(r.children).forEach(l=>{l instanceof HTMLElement&&s(l)})}return s(e),t}async function ze(e,t){const s=await qe(e,t),r=Xe(e);return(await Promise.all(s.filter(l=>r.has(Z(l.style.fontFamily))).map(l=>{const i=l.parentStyleSheet?l.parentStyleSheet.href:null;return Y(l.cssText,i,t)}))).join(`
`)}async function Ge(e,t){const s=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ze(e,t);if(s){const r=document.createElement("style"),a=document.createTextNode(s);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function Ke(e,t={}){const{width:s,height:r}=X(e,t),a=await E(e,t,!0);return await Ge(a,t),await Q(a,t),Ve(a,t),await me(a,s,r)}async function Je(e,t={}){const{width:s,height:r}=X(e,t),a=await Ke(e,t),l=await N(a),i=document.createElement("canvas"),o=i.getContext("2d"),c=t.pixelRatio||ce(),h=t.canvasWidth||s,f=t.canvasHeight||r;return i.width=h*c,i.height=f*c,t.skipAutoScale||de(i),i.style.width=`${h}`,i.style.height=`${f}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(l,0,0,i.width,i.height),i}async function Ye(e,t={}){return(await Je(e,t)).toDataURL()}function Qe({booking:e}){const t=y.useRef(null),[s,r]=y.useState(!1),[a,l]=y.useState(!1),{errors:i,flash:o}=W().props,c=e.patient||e.patient_detail,h=e.doctor,f=d=>new Date(d).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),w=d=>d.slice(0,5)+" WIB",R=d=>d.length<8?d:d.slice(0,4)+"-****-"+d.slice(-4),ee=d=>!d||d.length!==16?d:d.slice(0,6)+"********"+d.slice(14),j=(()=>{if(e.status==="checked_in")return{allowed:!1,reason:"Anda sudah melakukan check-in."};if(e.status==="cancelled")return{allowed:!1,reason:"Booking ini sudah dibatalkan."};const d=new Date,x=new Date(e.booking_date);if(d.getFullYear()!==x.getFullYear()||d.getMonth()!==x.getMonth()||d.getDate()!==x.getDate())return{allowed:!1,reason:"Check-in hanya bisa dilakukan pada hari H booking."};const[S,C]=e.start_time.split(":").map(Number),P=new Date(x);P.setHours(S,C,0,0);const L=new Date(P.getTime()-3600*1e3),I=new Date;return I<L?{allowed:!1,reason:`Check-in baru bisa dilakukan mulai pukul ${L.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} WIB.`}:I>P?{allowed:!1,reason:"Waktu booking sudah lewat."}:{allowed:!0,reason:""}})(),k=(d=>({confirmed:{label:"Terkonfirmasi",bgColor:"#f0fdf4",textColor:"text-green-700",icon:"check_circle"},checked_in:{label:"Sudah Check-in",bgColor:"#eff6ff",textColor:"text-blue-700",icon:"how_to_reg"},cancelled:{label:"Dibatalkan",bgColor:"#fef2f2",textColor:"text-red-700",icon:"cancel"},no_show:{label:"Tidak Hadir",bgColor:"#fef3c7",textColor:"text-yellow-700",icon:"warning"}})[d]||{label:d,bgColor:"#f3f4f6",textColor:"text-gray-700",icon:"help"})(e.status),te=()=>{!j.allowed||a||(l(!0),O.post("/booking/checkin",{code:e.code},{preserveScroll:!0,onFinish:()=>l(!1)}))},se=async()=>{if(!(!t.current||s)){r(!0);try{const d=t.current.querySelector(".actions-footer");d&&(d.style.display="none");const x=await Ye(t.current,{quality:1,pixelRatio:2,backgroundColor:"#ffffff",skipFonts:!0,filter:C=>!(C instanceof HTMLLinkElement&&C.rel==="stylesheet")});d&&(d.style.display="");const S=document.createElement("a");S.download=`booking-${e.code}-${Date.now()}.png`,S.href=x,S.click()}catch(d){console.error("Error generating image:",d),alert("Gagal mengunduh bukti booking. Silakan coba lagi.")}finally{r(!1)}}};return n.jsxs("div",{ref:t,className:"animate-fade-in overflow-hidden rounded-xl border border-gray-200 bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)] transition-colors duration-200",children:[o?.success&&n.jsxs("div",{className:"flex items-center gap-3 border-b border-green-200 bg-green-50 px-6 py-3",children:[n.jsx("span",{className:"material-symbols-outlined text-green-600",children:"check_circle"}),n.jsx("p",{className:"text-sm font-medium text-green-700",children:o.success})]}),i?.checkin&&n.jsxs("div",{className:"flex items-center gap-3 border-b border-red-200 bg-red-50 px-6 py-3",children:[n.jsx("span",{className:"material-symbols-outlined text-red-600",children:"error"}),n.jsx("p",{className:"text-sm font-medium text-red-700",children:i.checkin})]}),n.jsxs("div",{style:{backgroundColor:k.bgColor,borderBottom:"1px solid #dcfce7"},className:"flex flex-col items-start justify-between gap-4 px-6 py-4 sm:flex-row sm:items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{style:{backgroundColor:"#dcfce7"},className:`flex size-10 items-center justify-center rounded-full ${k.textColor}`,children:n.jsx("span",{className:"material-symbols-outlined",children:k.icon})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status Booking"}),n.jsx("p",{className:`text-lg font-bold leading-tight ${k.textColor}`,children:k.label})]})]}),n.jsxs("div",{className:"text-right sm:text-left",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Kode Booking"}),n.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:e.code})]})]}),e.status==="confirmed"&&n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:n.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"Check-in Online"}),j.allowed?n.jsx("p",{className:"mt-1 text-sm text-green-600",children:"âœ“ Anda bisa melakukan check-in sekarang"}):n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:j.reason})]}),n.jsxs("button",{onClick:te,disabled:!j.allowed||a,className:`flex items-center justify-center gap-2 rounded-lg px-6 py-2.5 text-sm font-bold transition-all ${j.allowed&&!a?"cursor-pointer bg-blue-600 text-white hover:bg-blue-700":"cursor-not-allowed bg-gray-200 text-gray-400"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-[18px]",children:a?"hourglass_empty":"how_to_reg"}),a?"Memproses...":"Check-in Sekarang"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-8 p-6 md:grid-cols-2 md:p-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"mb-4 border-b border-gray-200 pb-2 text-sm font-bold uppercase tracking-wider text-gray-500",children:"Informasi Pasien"}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"person"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Nama Pasien"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:c?.patient_name||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"badge"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"NIK"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:c?.patient_nik?ee(c.patient_nik):"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"smartphone"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Nomor WhatsApp"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:c?.patient_phone?R(c.patient_phone):"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"email"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:c?.patient_email||"-"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"mb-4 border-b border-gray-200 pb-2 text-sm font-bold uppercase tracking-wider text-gray-500",children:"Detail Janji Temu"}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"stethoscope"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Dokter"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:h?.name||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"calendar_clock"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Jadwal"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:f(e.booking_date)}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Pukul ",w(e.start_time)]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"location_on"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Lokasi"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:"Cantika Dental Care"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Dandong, Kec. Srengat, Kabupaten Blitar"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined mt-0.5 text-[#0da2e7]",children:"medical_services"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Layanan"}),n.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[e.service||"-",e.type&&n.jsx("span",{className:"ml-2 rounded bg-primary/10 px-2 py-0.5 text-xs text-primary",children:e.type==="long"?"45 menit":"15 menit"})]})]})]})]})]}),n.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #dbeafe"},className:"mx-6 mb-6 flex gap-3 rounded-lg p-4 md:mx-8",children:[n.jsx("span",{className:"material-symbols-outlined shrink-0 text-blue-600",children:"info"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-blue-800",children:"Informasi Pembayaran"}),n.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Pembayaran dilakukan secara manual saat Anda tiba di klinik. Mohon datang 15 menit sebelum jadwal."})]})]}),n.jsxs("div",{className:"actions-footer flex flex-col items-center justify-end gap-3 border-t border-gray-200 bg-white px-6 py-4 sm:flex-row",children:[n.jsxs("button",{className:"flex w-full cursor-pointer items-center justify-center gap-2 rounded-lg border border-red-200 px-4 py-2.5 text-sm font-semibold text-red-600 transition-colors hover:bg-red-50 sm:w-auto",children:[n.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"cancel"}),"Batalkan Booking"]}),n.jsxs("button",{className:"flex w-full cursor-pointer items-center justify-center gap-2 rounded-lg border border-gray-200 bg-gray-100 px-4 py-2.5 text-sm font-semibold text-gray-900 shadow-sm transition-colors hover:bg-gray-200 sm:w-auto",children:[n.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"chat"}),"Hubungi Admin"]}),n.jsxs("button",{onClick:se,disabled:s,className:"flex w-full cursor-pointer items-center justify-center gap-2 rounded-lg bg-[#0da2e7] px-4 py-2.5 text-sm font-bold text-white shadow-sm transition-colors hover:bg-[#0b8fd0] disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",children:[n.jsx("span",{className:"material-symbols-outlined text-[18px]",children:s?"hourglass_empty":"download"}),s?"Mengunduh...":"Unduh Bukti"]})]})]})}function Ze(){const[e,t]=y.useState(""),[s,r]=y.useState(""),[a,l]=y.useState(!1),i=o=>{o.preventDefault(),!(!e||!s)&&(l(!0),O.get("/check-booking",{phone:e,code:s},{onFinish:()=>l(!1)}))};return n.jsx("div",{className:"dark:bg-card-dark bg-card-light border-border-light rounded-xl border bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.08)] transition-colors duration-200 md:p-8",children:n.jsxs("form",{className:"flex flex-col gap-6",onSubmit:i,children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("label",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-text-main-light",children:"Nomor WhatsApp"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[20px] text-text-sub-light",children:"smartphone"}),n.jsx("input",{className:"border-border-light h-12 w-full rounded-lg border bg-background-light pl-10 pr-4 text-base text-text-main-light outline-none transition-all placeholder:text-text-sub-light/50 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"81234567890",type:"tel",value:e,onChange:o=>t(o.target.value),required:!0})]})]}),n.jsxs("label",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-text-main-light",children:"Kode Booking"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[20px] text-text-sub-light",children:"confirmation_number"}),n.jsx("input",{className:"border-border-light h-12 w-full rounded-lg border bg-background-light pl-10 pr-4 text-base text-text-main-light outline-none transition-all placeholder:text-text-sub-light/50 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"BK20251230XXXXXX",type:"text",value:s,onChange:o=>r(o.target.value),required:!0})]})]})]}),n.jsx("div",{className:"flex justify-end pt-2",children:n.jsxs("button",{type:"submit",disabled:a||!e||!s,className:`flex h-12 w-full items-center justify-center gap-2 rounded-lg px-8 text-base font-bold text-white shadow-md transition-all md:w-auto ${a||!e||!s?"cursor-not-allowed bg-gray-400":"cursor-pointer bg-primary hover:bg-primary-dark hover:shadow-lg active:scale-[0.98]"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-[20px]",children:a?"hourglass_empty":"search"}),a?"Mencari...":"Cek Status"]})})]})})}function et({booking:e}){const{errors:t}=W().props;return n.jsx("main",{className:"flex min-h-[calc(100vh-64px)] flex-grow flex-col items-center justify-start bg-background-light px-4 py-10 font-display sm:px-6",children:n.jsxs("div",{className:"flex w-full max-w-[800px] flex-col gap-8",children:[n.jsxs("div",{className:"space-y-3 text-center",children:[n.jsx("h1",{className:"text-3xl font-black tracking-tight text-text-main-light md:text-4xl",children:"Lacak Janji Temu Anda"}),n.jsx("p",{className:"mx-auto max-w-lg text-base text-text-sub-light md:text-lg",children:"Masukkan nomor WhatsApp dan kode booking yang Anda terima untuk melihat status terkini."})]}),n.jsx(Ze,{}),t?.booking&&n.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-center text-red-700",children:n.jsx("p",{className:"font-medium",children:t.booking})}),e&&n.jsx(Qe,{booking:e}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-sm text-text-sub-light",children:["Ingin membuat janji temu lain?"," ",n.jsx(re,{className:"font-bold text-primary hover:underline",href:"/doctors",children:"Buat Booking Baru"})]})})]})})}et.layout=e=>n.jsx(ne,{children:e});export{et as default};
