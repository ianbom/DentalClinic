import{r as o,j as e,L as h}from"./app-CVFEodcP.js";import{g as j,a as u}from"./index-BIydFD2V.js";function _({title:t,bookings:s,emptyMessage:x="Tidak ada booking ditemukan",showExpandable:r=!1,showActions:l=!1,currentPage:d=1,itemsPerPage:n=10}){const[i,c]=o.useState(null),m=a=>{c(i===a?null:a)};return e.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[t&&e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t}),e.jsxs("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-sm font-medium text-primary",children:[s.length," booking"]})]}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-left",children:[e.jsx(N,{showActions:l}),e.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:s.map((a,p)=>e.jsx(y,{booking:a,rowNumber:(d-1)*n+p+1,showActions:l,showExpandable:r,isExpanded:i===a.id,onToggleExpand:()=>m(a.id)},a.id))})]})}):e.jsx(f,{message:x})]})}function N({showActions:t}){return e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-slate-500",children:"No"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Kode"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Pasien"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Dokter"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Tanggal & Jam"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Dibuat Pada"}),e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Status"}),t&&e.jsx("th",{className:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Aksi"})]})})}function f({message:t}){return e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-300",children:"event_busy"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:t})]})}function y({booking:t,rowNumber:s,showActions:x,showExpandable:r,isExpanded:l,onToggleExpand:d}){return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"transition-colors hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3 text-center text-sm text-slate-500",children:s}),e.jsx("td",{className:"px-4 py-3 font-mono text-sm font-medium text-slate-900",children:t.code}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:t.patient_name}),e.jsx("p",{className:"text-xs text-slate-500",children:t.patient_phone})]})}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:t.doctor_name}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-slate-900",children:t.booking_date_formatted}),e.jsxs("span",{className:"text-xs text-slate-500",children:[t.start_time," WIB"]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:t.created_at_formatted}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(b,{status:t.status})}),x&&e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsx("button",{onClick:d,className:"cursor-pointer rounded-md bg-slate-100 p-1.5 text-slate-600 transition-colors hover:bg-slate-200",title:"Detail",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:l?"expand_less":"expand_more"})}),e.jsx(h,{href:`/admin/bookings/${t.id}`,className:"cursor-pointer rounded-md bg-primary p-1.5 text-white transition-colors hover:bg-sky-600",title:"Lihat Detail",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"visibility"})})]})})]}),r&&l&&e.jsx(g,{booking:t,showActions:x})]})}function g({booking:t,showActions:s}){return e.jsx("tr",{className:"bg-slate-50",children:e.jsx("td",{colSpan:s?8:7,className:"px-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"NIK"}),e.jsx("p",{className:"text-sm text-slate-900",children:t.patient_nik})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Email"}),e.jsx("p",{className:"text-sm text-slate-900",children:t.patient_email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Keluhan"}),e.jsx("p",{className:"text-sm text-slate-900",children:t.complaint})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Waktu Dibuat"}),e.jsx("p",{className:"text-sm text-slate-900",children:t.created_at})]})]})})})}function b({status:t}){return e.jsx("span",{className:`inline-flex rounded-full border px-3 py-1 text-xs font-semibold ${u(t)}`,children:j(t)})}export{_ as B};
