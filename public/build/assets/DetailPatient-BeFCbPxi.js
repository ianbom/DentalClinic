import{r as a,j as e,H as C,L as b}from"./app-Ddfl5t9z.js";import{u as L,B as M}from"./BookingFilters-dyJtROs0.js";import{B as A}from"./BookingTable-BwO_2PFr.js";import{A as E}from"./AdminLayout-DM3a-L7e.js";import"./index-BIydFD2V.js";import"./AdminSidebar-wHxo9R0c.js";function P({patient:s,bookings:w,doctors:y,total_visits:k}){const[o,h]=a.useState(""),[x,f]=a.useState(""),[m,u]=a.useState(""),[p,g]=a.useState(""),[l,_]=a.useState("booking_date"),[c,j]=a.useState("desc"),{filterBookings:N}=L(w),v=t=>{l===t?j(c==="asc"?"desc":"asc"):(_(t),j("asc"))},D=()=>{h(""),f(""),u(""),g("")},B=a.useMemo(()=>{let t=N(o,x,m,p);return l&&(t=[...t].sort((i,n)=>{let r="",d="";return l==="booking_date"?(r=i.booking_date,d=n.booking_date):l==="created_at"?(r=i.created_at,d=n.created_at):l==="patient_name"&&(r=i.patient_name.toLowerCase(),d=n.patient_name.toLowerCase()),r<d?c==="asc"?-1:1:r>d?c==="asc"?1:-1:0})),t},[N,o,x,m,p,l,c]),F=a.useMemo(()=>{if(!s.patient_birthdate)return"-";const t=new Date,i=new Date(s.patient_birthdate);let n=t.getFullYear()-i.getFullYear();const r=t.getMonth()-i.getMonth();return(r<0||r===0&&t.getDate()<i.getDate())&&n--,n},[s.patient_birthdate]),S=a.useMemo(()=>s.patient_birthdate?new Date(s.patient_birthdate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-",[s.patient_birthdate]);return e.jsxs("div",{className:"flex h-full flex-col bg-[#f5f7f8]",children:[e.jsx(C,{title:`Detail Pasien - ${s.patient_name}`}),e.jsxs("div",{className:"mx-auto flex w-full max-w-[1000px] flex-col gap-6 pb-10",children:[e.jsxs("nav",{className:"flex text-sm font-medium text-[#49829c]",children:[e.jsx(b,{className:"transition-colors hover:text-primary",href:"/admin/dashboard",children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(b,{className:"transition-colors hover:text-primary",href:"/admin/patients",children:"Manajemen Customer"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-primary",children:"Detail Pasien"})]}),e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-3xl font-black tracking-[-0.033em] text-[#0d171c]",children:s.patient_name}),e.jsx("p",{className:"text-sm text-[#49829c]",children:"Informasi lengkap dan riwayat medis pasien"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex h-10 items-center justify-center gap-2 rounded-lg border border-[#e7f0f4] bg-white px-4 text-sm font-semibold text-[#0d171c] transition-colors hover:bg-gray-50",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"print"}),e.jsx("span",{children:"Cetak"})]}),e.jsxs("button",{className:"flex h-10 items-center justify-center gap-2 rounded-lg bg-[#0d171c] px-4 text-sm font-bold text-white shadow-sm transition-colors hover:bg-[#1a2930]",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),e.jsx("span",{children:"Edit Profile"})]})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-xl border border-[#e7f0f4] bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[#e7f0f4] px-6 py-4",children:[e.jsx("h3",{className:"font-bold text-[#0d171c]",children:"Data Diri"}),e.jsx("span",{className:"rounded-md bg-primary/10 px-2.5 py-1 text-xs font-bold uppercase tracking-wide text-primary",children:"Aktif"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-8 md:flex-row",children:[e.jsxs("div",{className:"flex min-w-[140px] flex-col items-center gap-4",children:[e.jsx("div",{className:"h-28 w-28 rounded-full border-4 border-[#e7f0f4] bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCkBERmg9PvhrApMxq6Cc_Gb7s43whY6-CBsEMqhi_MWwm_jcebz_nQ6xsQzTAmGFxp1tWfzqzIomJcKeDLDy_Sp631oxGsUoP5w-Ds8dWHh_As6xxP4akxNQUAcEIyzJ_O38xxhDnehaiB7srY97W9bkYjmEVlLSiMQeaESfIwY15rp6BXlELCLPVpxfnlQa09HQfF7TYkc6hiAV94fu3bFwZgBOMBGcbgrcsoDN8JHtXCB487-YFeMrZLNUBuq3omEsQ4tg7MK21m")'}}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"mb-1 text-xs font-medium uppercase tracking-wider text-primary",children:"Total Visits"}),e.jsx("p",{className:"text-2xl font-bold text-[#0d171c]",children:k})]})]}),e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-x-10 gap-y-5 md:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Nama Lengkap"}),e.jsx("p",{className:"text-base font-medium text-[#0d171c]",children:s.patient_name})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Email"}),e.jsx("p",{className:"text-base font-medium text-[#0d171c]",children:s.patient_email||"-"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Nomor Rekam Medis"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm text-[#49829c]",children:"id_card"}),e.jsx("p",{className:"font-mono text-base font-medium text-[#0d171c]",children:s.medical_records||"-"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"No. WhatsApp"}),e.jsxs("a",{className:"group flex w-fit items-center gap-2 font-medium text-green-600 transition-all hover:text-green-700",href:`https://wa.me/${s.patient_phone?.replace(/^0/,"62")}`,target:"_blank",rel:"noreferrer",children:[e.jsx("span",{className:"flex items-center justify-center rounded-full bg-green-100 p-1",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.9 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"})})}),e.jsx("span",{children:s.patient_phone}),e.jsx("span",{className:"material-symbols-outlined text-sm opacity-0 transition-opacity group-hover:opacity-100",children:"open_in_new"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"NIK"}),e.jsx("p",{className:"text-base font-medium text-[#0d171c]",children:s.patient_nik})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Jenis Kelamin"}),e.jsx("p",{className:"text-base font-medium text-[#0d171c]",children:s.gender==="male"?"Laki-laki":"Perempuan"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Tanggal Lahir"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm text-[#49829c]",children:"cake"}),e.jsxs("p",{className:"text-base font-medium text-[#0d171c]",children:[S," (",F," Tahun)"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary",children:"Alamat Domisili"}),e.jsx("p",{className:"text-base font-medium leading-relaxed text-[#0d171c]",children:s.patient_address||"-"})]})]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#0d171c]",children:"Riwayat Booking"}),e.jsx(M,{searchQuery:o,statusFilter:x,dateFilter:m,doctorFilter:p,doctors:y,onSearchChange:h,onStatusChange:f,onDateChange:u,onDoctorChange:g,onClearFilters:D}),e.jsx(A,{bookings:B,showExpandable:!1,showActions:!0,sortField:l,sortOrder:c,onSort:v,emptyMessage:"Tidak ada riwayat booking."})]})]})]})}P.layout=s=>e.jsx(E,{children:s});export{P as default};
