import{j as e,r as c,d as o}from"./app-Ddfl5t9z.js";import{S as b,B as N,a as v}from"./ServiceSelection-DIiRomDA.js";import{C as w}from"./PatientDataForm-DtIIjYrs.js";import{u as y,B as k}from"./BookingContext-DxnQIfP0.js";import{A as B}from"./AdminLayout-DM3a-L7e.js";import"./AdminSidebar-wHxo9R0c.js";function D({allDoctors:a,doctor:l,availableSlots:r,selectedDoctorId:m,provinces:x}){const{bookingData:s,resetBookingData:h}=y(),[f,u]=c.useState(m),[n,d]=c.useState(""),g=()=>{h(),d(""),o.get("/admin/bookings/create",{},{preserveState:!1})},j=t=>{const i=t.target.value;u(i?Number(i):null),i&&o.get("/admin/bookings/create",{doctor_id:i},{preserveState:!1})},p=t=>{d(t)};return e.jsx("div",{className:"min-h-screen bg-[#f8fbfc] p-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#0d171c]",children:"Buat Booking Baru"}),e.jsx("p",{className:"text-sm text-[#49829c]",children:"Buat booking manual untuk pasien"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f0f4] bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-primary text-sm font-bold text-white",children:"1"}),e.jsx("h2",{className:"text-lg font-bold text-[#0d171c]",children:"Pilih Dokter"})]}),e.jsxs("select",{value:f||"",onChange:j,className:"w-full rounded-lg border border-[#cee0e8] bg-white px-4 py-3 text-[#0d171c] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:"-- Pilih Dokter --"}),a.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),l&&e.jsxs("div",{className:"rounded-xl border border-[#e7f0f4] bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-primary text-sm font-bold text-white",children:"2"}),e.jsx("h2",{className:"text-lg font-bold text-[#0d171c]",children:"Pilih Layanan"})]}),e.jsx(b,{value:n,onChange:p,showSisipan:!0})]}),l&&n&&e.jsxs("div",{className:"rounded-xl border border-[#e7f0f4] bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-primary text-sm font-bold text-white",children:"3"}),e.jsx("h2",{className:"text-lg font-bold text-[#0d171c]",children:"Pilih Tanggal & Jam"})]}),e.jsx("p",{className:"mb-4 text-sm text-[#49829c]",children:"Pilih tanggal. Jam bisa dikosongkan jika belum pasti."}),e.jsx(N,{availableSlots:r}),e.jsx("div",{className:"mt-6 border-t border-[#e7f0f4] pt-6",children:e.jsx(v,{availableSlots:r})}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[s.selectedDate&&e.jsxs("div",{className:"rounded-lg bg-green-50 px-3 py-2 text-green-700",children:["ðŸ“… Tanggal:"," ",s.selectedDate]}),s.selectedTime&&e.jsxs("div",{className:"rounded-lg bg-blue-50 px-3 py-2 text-blue-700",children:["â° Jam: ",s.selectedTime]})]})]}),l&&n&&s.selectedDate&&e.jsxs("div",{className:"rounded-xl border border-[#e7f0f4] bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-primary text-sm font-bold text-white",children:"4"}),e.jsx("h2",{className:"text-lg font-bold text-[#0d171c]",children:"Data Pasien"})]}),e.jsx(w,{doctorId:String(l.id),isAdmin:!0,provinces:x})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-6 rounded-xl border border-[#e7f0f4] bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d171c]",children:"Ringkasan Booking"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#49829c]",children:"Dokter"}),e.jsx("span",{className:"font-medium text-[#0d171c]",children:l?.name||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#49829c]",children:"Layanan"}),e.jsx("span",{className:"font-medium text-[#0d171c]",children:s.service||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#49829c]",children:"Tanggal"}),e.jsx("span",{className:"font-medium text-[#0d171c]",children:s.selectedDate||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#49829c]",children:"Jam"}),e.jsx("span",{className:"font-medium text-[#0d171c]",children:s.selectedTime||"Belum dipilih"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#49829c]",children:"Pasien"}),e.jsx("span",{className:"font-medium text-[#0d171c]",children:s.fullName||"-"})]})]}),e.jsx("button",{onClick:g,className:"mt-6 w-full rounded-lg bg-red-500 px-6 py-3 text-white hover:bg-red-600 focus:ring-4 focus:ring-red-500/20",children:"Reset"})]})})]})]})})}function C(a){return e.jsx(D,{...a})}C.layout=a=>e.jsx(B,{children:e.jsx(k,{children:a})});export{C as default};
