import{j as e,L as p,r as m}from"./app-BIRp2Rbv.js";import{A as N}from"./AdminLayout-9KwjuCw5.js";import"./AdminSidebar-DLNrRhSo.js";function y({searchQuery:s,setSearchQuery:a,statusFilter:n,setStatusFilter:t}){return e.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row",children:[e.jsxs("div",{className:"group relative flex-1",children:[e.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 transition-colors group-focus-within:text-primary",children:"search"}),e.jsx("input",{className:"w-full rounded-lg border-none bg-slate-50 py-2.5 pl-10 pr-4 text-slate-900 placeholder:text-slate-500 focus:ring-2 focus:ring-primary/50",placeholder:"Cari nama dokter atau SIP...",type:"text",value:s,onChange:l=>a(l.target.value)})]}),e.jsxs("div",{className:"relative w-full md:w-48",children:[e.jsxs("select",{className:"w-full cursor-pointer appearance-none rounded-lg border-none bg-slate-50 py-2.5 pl-4 pr-10 text-slate-900 focus:ring-2 focus:ring-primary/50",value:n,onChange:l=>t(l.target.value),children:[e.jsx("option",{value:"all",children:"Semua Status"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Non-aktif"})]}),e.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-500",children:"expand_more"})]})]})}function g({totalDoctors:s}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{href:"/admin",className:"text-slate-500 transition-colors hover:text-primary",children:"Dashboard"}),e.jsx("span",{className:"text-slate-500",children:"/"}),e.jsx("span",{className:"font-medium text-slate-900",children:"Dokter"})]}),e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black leading-tight tracking-[-0.033em] text-slate-900",children:"Manajemen Dokter"}),e.jsxs("p",{className:"mt-1 text-slate-500",children:["Kelola data dokter, jadwal praktek, dan status aktif."," ",e.jsxs("span",{className:"font-medium text-primary",children:["Total: ",s," dokter"]})]})]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-white shadow-sm transition-all hover:bg-sky-600 active:scale-95",children:[e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),e.jsx("span",{children:"Tambah Dokter"})]})]})]})}function v({currentPage:s,totalPages:a,totalItems:n,itemsPerPage:t,setCurrentPage:l}){if(a<=1)return null;const o=(s-1)*t+1,x=Math.min(s*t,n);return e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 px-6 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Menampilkan"," ",e.jsxs("span",{className:"font-medium text-slate-900",children:[o,"-",x]})," ","dari"," ",e.jsx("span",{className:"font-medium text-slate-900",children:n})," ","dokter"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(Math.max(1,s-1)),disabled:s===1,className:"flex size-9 items-center justify-center rounded-lg border border-slate-200 text-slate-500 transition-colors hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_left"})}),Array.from({length:Math.min(5,a)},(d,r)=>{let i=r+1;return a>5&&(s<=3?i=r+1:s>=a-2?i=a-4+r:i=s-2+r),e.jsx("button",{onClick:()=>l(i),className:`flex size-9 items-center justify-center rounded-lg font-medium transition-colors ${s===i?"bg-primary text-white shadow-sm":"border border-slate-200 text-slate-500 hover:bg-slate-100"}`,children:i},i)}),e.jsx("button",{onClick:()=>l(Math.min(a,s+1)),disabled:s===a,className:"flex size-9 items-center justify-center rounded-lg border border-slate-200 text-slate-500 transition-colors hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_right"})})]})]})}function k({doctors:s,currentPage:a,itemsPerPage:n}){return e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[e.jsx("th",{className:"w-14 px-6 py-4 text-center",children:"No"}),e.jsx("th",{className:"px-6 py-4",children:"Dokter"}),e.jsx("th",{className:"px-6 py-4",children:"SIP"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Pengalaman"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Total Booking"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4",children:"Dibuat Pada"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:s.map((t,l)=>e.jsxs("tr",{className:"group transition-colors hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4 text-center text-sm text-slate-500",children:(a-1)*n+l+1}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 shrink-0 overflow-hidden rounded-full border border-slate-100 bg-slate-200",children:t.profile_pic?e.jsx("img",{src:t.profile_pic,alt:t.name,className:"size-full object-cover"}):e.jsx("div",{className:"flex size-full items-center justify-center bg-primary/10 text-primary",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"person"})})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-bold text-slate-900",children:t.name})})]})}),e.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:t.sip}),e.jsxs("td",{className:"px-6 py-4 text-center text-sm text-slate-600",children:[t.experience," tahun"]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:t.total_bookings})}),e.jsx("td",{className:"px-6 py-4 text-center",children:t.is_active?e.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-bold text-primary",children:[e.jsx("span",{className:"size-1.5 rounded-full bg-primary"}),"Aktif"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-slate-200 bg-slate-100 px-3 py-1 text-xs font-bold text-slate-500",children:[e.jsx("span",{className:"size-1.5 rounded-full bg-slate-400"}),"Non-aktif"]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:t.created_at_formatted}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-80 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-900 transition-colors hover:bg-slate-100",children:"Jadwal"}),e.jsx(p,{href:`/admin/doctors/${t.id}`,className:"flex size-8 items-center justify-center rounded-lg text-slate-500 transition-colors hover:bg-primary/5 hover:text-primary",title:"Edit",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"})}),e.jsx("button",{className:"flex size-8 items-center justify-center rounded-lg text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-900",title:"More Options",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]})})]},t.id))})]})}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-300",children:"stethoscope"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Tidak ada dokter ditemukan"})]})})}function w({doctors:s}){const[a,n]=m.useState(""),[t,l]=m.useState("all"),[o,x]=m.useState(1),d=10,r=m.useMemo(()=>s.filter(c=>{const f=a===""||c.name.toLowerCase().includes(a.toLowerCase())||c.sip.toLowerCase().includes(a.toLowerCase()),b=t==="all"||t==="active"&&c.is_active||t==="inactive"&&!c.is_active;return f&&b}),[s,a,t]),i=Math.ceil(r.length/d),h=r.slice((o-1)*d,o*d),u=c=>{n(c),x(1)},j=c=>{l(c),x(1)};return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(g,{totalDoctors:r.length}),e.jsx(y,{searchQuery:a,setSearchQuery:u,statusFilter:t,setStatusFilter:j}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(k,{doctors:h,currentPage:o,itemsPerPage:d}),e.jsx(v,{currentPage:o,totalPages:i,totalItems:r.length,itemsPerPage:d,setCurrentPage:x})]}),e.jsx("div",{className:"pb-8 text-center",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Â© 2024 Klinik Gigi Sehat Admin Panel. All rights reserved."})})]})}w.layout=s=>e.jsx(N,{children:s});export{w as default};
